function removeArrayDupes(e){return Object.keys(Object.keys(e).reduce((function(t,n){return t[e[n]]=!0,t}),{}))}function descNumList(e){for(var t="",n=0;n<e.length;n++)0==n?t+=e[n]:e[n]-e[n-1]>1?t+=("-"==t.slice(-1)?e[n-1]+", ":", ")+e[n]:e[n]-e[n-1]==1&&(t+=("-"==t.slice(-1)?"":"-")+(n==e.length-1?e[n]:""));return t}function commaVal(e){x=(e+="").split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2}function roundTo(e,t,n,r){null==t&&(t=0),null==n&&(n=!1),null==r&&(r=!0);var s=""+Math.round(parseFloat(e)*Math.pow(10,t))/Math.pow(10,t);if(n){-1==s.indexOf(".")&&(s+=".");for(var i=s.length-s.indexOf("."),u=0;u<t+1-i;u++)s+="0";r&&".00"==s.substr(s.length-3)&&(s=s.substring(0,s.length-3))}return s}function implode(e,t){var n="",r="",s="";if(1===arguments.length&&(t=e,e=""),"object"==typeof t){if(t instanceof Array)return t.join(e);for(n in t)r+=s+t[n],s=e;return r}return t}function in_array(e,t,n){var r="";if(!!n){for(r in t)if(t[r]===e)return!0}else for(r in t)if(t[r]==e)return!0;return!1}function array_includes(e,t){return Array.prototype.includes?e.includes(t):!!~e.indexOf(t)}function index_assoc_array(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort((function(e,t){return e-t})),t}function ucFirst(e){return void 0===e&&(e=""),e.length?e[0].toUpperCase()+e.substr(1):e}function formatPrice(e,t){var n=t?"":"$";void 0===e&&(e=0);const r=Math.abs(e),s=e<0?"-":"";return Number(r).toLocaleString?s+n+Number(r).toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2}):s+n+roundTo(r,2,!0,!1)}function safeSelect(e,t,n){try{var r=t(e);return void 0===r?n:r}catch(e){return n}}function isMobile(){return $(window).width()<768}function stripNonNumeric(e){return(""+e).replace(/\D\./g,"")}function reportError(e){console.error(e)}function ajaxRequest(e,t,n,r,s){for(var i in requests)if(requests.hasOwnProperty(i)){if(delete requests[i].data.reqId,requests[i].status==REQ_PENDING&&requests[i].desc==e&&requests[i].cmd==t&&requests[i].data==serialize1D(n)&&requests[i].time>(new Date).getTime()-1e3)return!1}return n.reqId=nextRequest(e,t,n,s),ajaxCall(t,n,(function(e){requests[n.reqId].status=e.status,r(requests[n.reqId].localData,e)})),n.reqId}function ajaxCall(e,t,n){$.getJSON(BASE_URL+WEB_PATH+"ajax/"+e,t,n)}window.onerror=function(e,t,n,r,s){s&&s.stack,window.location.protocol,window.location.host,window.location.pathname};var requests=new Array,numRequests=0;function nextRequest(e,t,n,r){return requests[numRequests]=new Array,requests[numRequests].time=(new Date).getTime(),requests[numRequests].checker=setInterval("checkRequest("+numRequests+")",1e3),requests[numRequests].desc=e,requests[numRequests].cmd=t,requests[numRequests].localData=r,requests[numRequests].data=serialize1D(n),requests[numRequests].status=REQ_PENDING,++numRequests-1}function checkRequest(e){var t=(new Date).getTime()-requests[e].time,n=requests[e].cmd;requests[e].status==REQ_OK||requests[e].status==REQ_ERROR||"activateTab"==n||"closeTab"==n?clearInterval(requests[e].checker):(t>=5e3&&"newTab"==n||t>=15e3&&"getStockPrice"==n||t>=3e4&&("getOptions"==n||"calculate"==n))&&(addMsg("It's taking a while "+requests[e].desc+", please refresh the page and try again"),clearInterval(requests[e].checker))}function serialize1D(e){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t}var tzOffset=-5,tzOffsetStr="-0500";function date(e,t,n){null==n&&(n=tzOffset);var r,s,i,u=/\\?([a-z])/gi,a=function(e,t){return(e+="").length<t?new Array(++t-e.length).join("0")+e:e},o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],c={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"};return i=function(e,t){return s[e]?s[e]():t},s={d:function(){return a(s.j(),2)},D:function(){return s.l().slice(0,3)},j:function(){return r.getDate()},l:function(){return o[s.w()]+"day"},N:function(){return s.w()||7},S:function(){return c[s.j()]||"th"},w:function(){return r.getDay()},z:function(){var e=new Date(s.Y(),s.n()-1,s.j()),t=new Date(s.Y(),0,1);return Math.round((e-t)/864e5)+1},W:function(){var e=new Date(s.Y(),s.n()-1,s.j()-s.N()+3),t=new Date(e.getFullYear(),0,4);return 1+Math.round((e-t)/864e5/7)},F:function(){return o[6+s.n()]},m:function(){return a(s.n(),2)},M:function(){return s.F().slice(0,3)},n:function(){return r.getMonth()+1},t:function(){return new Date(s.Y(),s.n(),0).getDate()},L:function(){return 1===new Date(s.Y(),1,29).getMonth()|0},o:function(){var e=s.n(),t=s.W();return s.Y()+(12===e&&t<9?-1:1===e&&t>9)},Y:function(){return r.getFullYear()},y:function(){return(s.Y()+"").slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return s.a().toUpperCase()},B:function(){var e=3600*r.getUTCHours(),t=60*r.getUTCMinutes(),n=r.getUTCSeconds();return a(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:function(){return s.G()%12||12},G:function(){return r.getHours()},h:function(){return a(s.g(),2)},H:function(){return a(s.G(),2)},i:function(){return a(r.getMinutes(),2)},s:function(){return a(r.getSeconds(),2)},u:function(){return a(1e3*r.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){return 0+(new Date(s.Y(),0)-Date.UTC(s.Y(),0)!=new Date(s.Y(),6)-Date.UTC(s.Y(),6))},O:function(){var e=r.getTimezoneOffset();return(e>0?"-":"+")+a(Math.abs(e/60*100),4)},P:function(){var e=s.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-r.getTimezoneOffset()},c:function(){return"Y-m-d\\Th:i:sP".replace(u,i)},r:function(){return"D, d M Y H:i:s O".replace(u,i)},U:function(){return r.getTime()/1e3|0}},this.date=function(e,t){return this,(r=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t)).setTime(r.getTime()+6e4*r.getTimezoneOffset()+36e5*n),e.replace(u,i)},this.date(e,t)}function dateFromYMD(e,t,n,r){null==n&&(n=0),null==r&&(r=0);var s=tzOffset;return date(e,mktime(n,r,0,t.substr(5,2),t.substr(8,2),t.substr(0,4)),s)}function expDescFromYMD(e){var t=8===e.length?e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,4):e,n=dateFromYMD("Y",t)==date("Y")?"":" "+dateFromYMD("Y",t);return dateFromYMD("j<\\s\\up>S</\\s\\up> M"+n,t)}function timeFromYMD(e,t,n){return null==t&&(t=0),null==n&&(n=0),mktime(t,n,0,e.substr(5,2),e.substr(8,2),e.substr(0,4))}function mktime(e,t,n,r,s,i){var u=s+" "+[0,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][parseInt(r,10)]+" "+i+" "+e+":"+(t<10?"0":"")+parseInt(t,10)+":"+(n<10?"0":"")+parseInt(n,10)+" "+tzOffsetStr;return new Date(u).getTime()/1e3}function getDateDistance(e){return e-Date.now()/1e3}function getDateDistance(e){return e-Date.now()/1e3}function fmtShortDate(e,t){return date((t=void 0===t||t)?"m/d"+(isDateDistGt1yr(getDateDistance(e))?"/y":""):"m/d",e)}function isDateDistGt1yr(e){return e>31536e3}var listeners=new Array;function addListener(e,t,n){null==listeners[e]&&(listeners[e]=new Array),listeners[e].push({func:t,data:n})}function triggerListener(e,t){if("undefined"!=typeof debugEvents&&debugEvents&&console.log("Event",e,t),null!=listeners[e])for(i in listeners[e])t.tab_num==listeners[e][i].data.tab_num&&listeners[e][i].func(e,t,listeners[e][i].data);return!0}function addMsg(e,t){if(null==t&&(t="error"),"verbose"==t)return alert(e),!1;$("#status_messages").append("<div class='msg txt_"+t+" __showing'>"+e+" <a href='#close' class='close_x' title='close' onclick='return closeMsg(this);'>&times;</a></div>");var n=$("#status_messages .msg:last").eq(0);setTimeout((function(){$(n).removeClass("__showing")}),400),setTimeout((function(){closeMsg(void 0,n)}),3e3)}function closeMsg(e,t){t=t||$(e).parent();$(t).addClass("__hiding"),setTimeout((function(){$(t).remove()}),400)}function setCookie(e,t,n){null==n.expiry_days&&(n.expiry_days=30),null==n.path&&(n.path="/");var r=new Date;r.setDate(r.getDate()+n.expiry_days);var s=escape(t)+";path="+escape(n.path)+";expires="+r.toUTCString()+";max-age="+60*n.expiry_days*60*24+";domain="+(COOKIE_DOMAIN||"");document.cookie=e+"="+s;var i=";path="+escape(n.path)+";expires=Thu, 01 Jan 1970 00:00:01 GMTNaN"+(BASE_URL||"").replace(/(http)?s?:?\/?\/?/,"");document.cookie=e+"="+i}function getCookie(e){var t,n,r,s=document.cookie.split(";");for(t=0;t<s.length;t++)if(n=s[t].substr(0,s[t].indexOf("=")),r=s[t].substr(s[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return unescape(r)}function isTransitionalTheme(){return $("body").hasClass("transitional")}function jq_exclusive_switch(e,t,n,r){null==n?n="":n+="_";var s=e.attr("name"),i=s.indexOf(":"),u=s.substring(0,i),a=s.substring(i+1),o=$("#"+a+".jq_exclusive_"+n+"target"),c=$(e[0]);array_includes(["tablet","mobile"],viewStyle)&&o.attr("data-switch-toggle")?setTimeout((function(){o.toggle(t),c.hasClass("_-selected")?c.removeClass("_-selected"):c.addClass("_-selected"),"undefined"!=typeof updateStratAdStickiness&&updateStratAdStickiness()}),r?100:0):setTimeout((function(){o.show(t),"undefined"!=typeof updateStratAdStickiness&&updateStratAdStickiness()}),r?100:0),$(".jq_exclusive_"+n+"target").filter("[name='"+u+"']").not(o).hide(t);var l=e.parents(".dialog_tab, .unique_switch");return l.is(".dialog_tab")?(l.siblings().removeClass("dialog_tab_selected"),l.siblings().addClass("dialog_tab"),l.addClass("dialog_tab_selected")):l.is(".unique_switch")&&(l.siblings().removeClass("unique_switch_selected"),l.siblings().addClass("unique_switch"),l.addClass("unique_switch_selected")),!1}function init_funcs(e){$(".jq_exclusive_switch").click((function(){return jq_exclusive_switch($(this),0)})),$(".jq_exclusive_switch_flash").click((function(){return jq_exclusive_switch($(this),0,void 0,!0)})),$(".jq_exclusive_slide_switch").click((function(){return jq_exclusive_switch($(this),100,"slide")})),$("#msg").ajaxError((function(e,t,n,r){}))}function viewMore(e){return $(".more",$(e.currentTarget).parent()).slideToggle(100),$(this).hasClass("expanded")?$(e.currentTarget).removeClass("expanded"):$(e.currentTarget).addClass("expanded"),!1}function expandFollowElement(e){var t=$(e).next(),n=$("span",e);"block"===t.css("display")?(t.slideUp(100),n.text("+ ")):(t.slideDown(100),n.text("– "))}$(document).click((function(e){isTransitionalTheme()&&$("#top_menu .id-calculator").hasClass("dialog_tab_selected")&&"calc-menu-toggler"!==$(e.target).attr("data-special")&&setTimeout((function(){(0===$(e.target).closest("#top_but-calculator").length||$(e.target).closest("#options_menu a").length>0)&&($("#top_but-calculator").hide(),$("#top_menu .id-calculator").removeClass("dialog_tab_selected"))}),100)})),function(){var e=getCookie("first_use");setCookie("first_use",null==e?parseInt((new Date).getTime()/1e3,10):e,{expiry_days:36500});var t=getCookie("PHPSESSID"),n=getCookie("num_visits");null==n&&(n=0),setCookie("num_visits",parseInt(n)+1,{expiry_days:36500}),setCookie("last_session_id",t,{expiry_days:36500})}(),$.fn.extend({getTH:function(){var e=$(this).prevAll().length;return $(this).parents("table").find("td, th").eq(e)}}),$.fn.extend({getRowTH:function(){return $(this).parents("tr").find("th").eq(0)}}),function(e){e.scrollTo=function(t,n){var r,s=e("html").scrollTop(),i=e(t).offset().top,u=e(window).innerHeight();!1!==(r=i<s?i:!(i<s+2*u/3)&&i-u*(1/3))&&e("html, body").animate({scrollTop:r},void 0===n?500:n)}}(jQuery);
